(()=>{function e(e){return Array.isArray(e)?e.map((e=>t(e)?e:"[Filtered: unsafe object]")):t(e)?e:"[Filtered: unsafe object]"}function t(e){if(!e)return!0;if("object"==typeof e){if(e===window||e===document)return!1;if("undefined"!=typeof Node&&e instanceof Node)return!1;if("undefined"!=typeof Window&&e instanceof Window)return!1}return!0}const o="7.6.0",n=864e5,r="storage_expiry",a="storage_expiry_duration",s={SQ:{local:"localhost:3000",dev_ldt:"selectquote.outliant.com",dev:"selectquote.outliant.com",staging:"stg-selectquote.outliant.com",production:"selectquote.com"},LSQ:{dev_ldt:"ldt-selectquote.outliant.com",dev:"life-selectquote.outliant.com",staging:"stg-life-selectquote.outliant.com",production:"life.selectquote.com"},HAA:{dev_ldt:"homeandauto.outliant.com",dev:"homeandauto.outliant.com",staging:"stg-homeandauto.outliant.com",production:"homeandauto.selectquote.com"},MSQ:{dev_ldt:"medicare-selectquote.outliant.com",dev:"medicare-selectquote.outliant.com",staging:"stg-medicare-selectquote.outliant.com",production:"medicare.selectquote.com"},MHL:{dev_ldt:"medicare-helpline.outliant.com",dev:"medicare-helpline.outliant.com",staging:"stg-medicare-helpline.outliant.com",production:"medicarehelpline.com"},LIS:{dev_ldt:"lifeinsurancesavings.outliant.com",dev:"lifeinsurancesavings.outliant.com",staging:"stg-lifeinsurancesavings.outliant.com",production:"lifeinsurancesavings.com"},BES:{dev_ldt:"burial-expense.outliant.com",dev:"burial-expense.outliant.com",staging:"stg-burial-expense.outliant.com",production:"burialexpense.com"}},i=[{siteKey:"SQ",seo:{sCode:"ULMS",nextSCode:"UUMS"},referrer:{sCode:"2UMS",nextSCode:"UZMS"},direct:{sCode:"UCMS",nextSCode:"USMS"}},{siteKey:"LSQ",seo:{sCode:"SNMS",nextSCode:"UJMS"},referrer:{sCode:"1UMS",nextSCode:"UMMS"},direct:{sCode:"EDMS",nextSCode:"UKMS"}},{siteKey:"HAA",seo:{sCode:"SQAHSEO",nextSCode:"xsseoml"},referrer:{sCode:"SQAHREF",nextSCode:"xsrefml"},direct:{sCode:"SQAHDE",nextSCode:"xsdeml"}},{siteKey:"MSQ",seo:{sCode:"SQSSEO",nextSCode:"xsseoahl"},referrer:{sCode:"SQSREF",nextSCode:"xsrefahl"},direct:{sCode:"SQSDE",nextSCode:"xsdeahl"}},{siteKey:"MHL",seo:{sCode:"MHLSEO",nextSCode:"MHLSEO"},referrer:{sCode:"MHLREF",nextSCode:"MHLREF"},direct:{sCode:"MHLDE",nextSCode:"MHLDE"}},{siteKey:"LIS",seo:{sCode:"SRMS",nextSCode:null},referrer:{sCode:"BVMS",nextSCode:null},direct:{sCode:"EHMS",nextSCode:null}},{siteKey:"BES",seo:{sCode:"SYMS",nextSCode:null},referrer:{sCode:"BZMS",nextSCode:null},direct:{sCode:"EJMS",nextSCode:null}}],c=[{matchPaths:["/medicare/medicare-plans/advantage-plans"],desktop:{seoKeyword:"sqsstateadvdesk",phoneNumber:"1-833-703-7236"},mobile:{seoKeyword:"sqsstateadvmob",phoneNumber:"1-844-976-4879"}},{matchPaths:["/medicare/medicare-plans/supplement-plans"],desktop:{seoKeyword:"sqsstatesuppdesk",phoneNumber:"1-866-785-2413"},mobile:{seoKeyword:"sqsstatesuppmob",phoneNumber:"1-833-333-3956"}},{matchPaths:["/medicare/carriers","/medicare/ancillary-carriers"],desktop:{seoKeyword:"sqscarrierdesk",phoneNumber:"1-833-694-3346"},mobile:{seoKeyword:"sqscarriermob",phoneNumber:"1-888-675-3526"}},{matchPaths:["/medicare/medicare-enrollment-periods"],desktop:{seoKeyword:"sqsmedenrolldesk",phoneNumber:"1-844-242-1733"},mobile:{seoKeyword:"sqsmedenrollmob",phoneNumber:"1-844-291-9139"}},{matchPaths:["/medicare/articles"],desktop:{seoKeyword:"sqsartdesk",phoneNumber:"1-866-681-5625"},mobile:{seoKeyword:"sqsartmob",phoneNumber:"1-844-572-9436"}},{matchPaths:["/medicare/additional-coverage","/medicare/faqs","/medicare/government-resources","/medicare/lower-medicare-costs","/medicare/medicare-card","/medicare/medicare-caregiver","/medicare/medicare-changes","/medicare/medicare-checklist","/medicare/medicare-cost","/medicare/medicare-eligibility","/medicare/medicare-employer-coverage","/medicare/medicare-enrollment-periods/when-can-i-enroll-quiz","/medicare/medicare-parts","/medicare/medicare-plans","/medicare/overview","/medicare/resources","/medicare/retirement-and-medicare","/medicare/selectquote-difference","/medicare"],desktop:{seoKeyword:"sqsorgdesk",phoneNumber:"1-844-665-1035"},mobile:{seoKeyword:"sqsorgmob",phoneNumber:"1-833-404-4555"}}],d=[{matchPaths:["/medicare-plans/advantage-plans"],desktop:{seoKeyword:"mhladvplansdmadesk",phoneNumber:"1-877-790-2366"},mobile:{seoKeyword:"mhladvplansdmamob",phoneNumber:"1-877-790-2463"}},{matchPaths:["/medicare-plans/supplement-plans","/medicare-plans/prescription-drug-plans","/medicare-plans"],desktop:{seoKeyword:"mhlmedplansdesk",phoneNumber:"1-855-912-2108"},mobile:{seoKeyword:"mhlmedplansmob",phoneNumber:"1-877-790-2343"}},{matchPaths:["/articles/medicare-advantage-plans-pros-cons","/articles/medicare-advantage-open-enrollment-period"],desktop:{seoKeyword:"mhlacqartdesk",phoneNumber:"1-844-678-1115"},mobile:{seoKeyword:"mhlacqartmob",phoneNumber:"1-844-860-6466"}},{matchPaths:["/articles"],desktop:{seoKeyword:"mhllifedesk",phoneNumber:"1-877-791-3168"},mobile:{seoKeyword:"mhllifemob",phoneNumber:"1-877-832-5183"}},{matchPaths:["/medicare-enrollment"],desktop:{seoKeyword:"mhlmedenrolldesk",phoneNumber:"1-877-834-7885"},mobile:{seoKeyword:"mhlmedenrollmob",phoneNumber:"1-833-785-7111"}},{matchPaths:["/medicare-eligibility","/medicare-coverage"],desktop:{seoKeyword:"mhlmedcovdesk",phoneNumber:"1-877-235-1364"},mobile:{seoKeyword:"mhlmedcovmob",phoneNumber:"1-833-944-1484"}},{matchPaths:["/","/faqs"],desktop:{seoKeyword:"mhlproductdesk",phoneNumber:"1-877-505-9845"},mobile:{seoKeyword:"mhlproductmob",phoneNumber:"1-844-703-1247"}}],l=(()=>{const e={},t=(t,o)=>{Array.isArray(o)&&o.forEach((o=>{o&&["desktop","mobile"].forEach((n=>{const r=o?.[n]?.seoKeyword;r&&(e[String(r).trim()]=t)}))}))};return t("MSQ",c),t("MHL",d),e})(),m=()=>{try{if((()=>{try{if(navigator.userAgentData&&"boolean"==typeof navigator.userAgentData.mobile)return navigator.userAgentData.mobile;const e=navigator.userAgent||"";return/Mobi|Android|iPhone|iPad|iPod/i.test(e)}catch{return!1}})())return"mobile";return(window.innerWidth||document.documentElement.clientWidth||0)<=767?"mobile":"desktop"}catch{return"desktop"}},u=e=>{try{const t=new URL(window.location.href).pathname,n=((e,t)=>{try{const o=R(e),n=Object.values(s.MSQ),r=Object.values(s.MHL);return n.includes(o)?"MSQ":r.includes(o)?"MHL":Object.values(s.SQ).includes(o)&&t.startsWith("/medicare")?"MSQ":null}catch{return null}})(e,t);if(!n)return;const r=m(),a=((e,t)=>{const o="MSQ"===e?c:"MHL"===e?d:null;if(!o)return null;t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1));for(const e of o)if((e?.matchPaths||[]).some((e=>{if(!e)return!1;let o=e;return o.length>1&&o.endsWith("/")&&(o=o.slice(0,-1)),t===o||t.startsWith(o+"/")})))return e;return null})(n,t);if(!a)return;const i=a?.[r]?.seoKeyword,u=a?.[r]?.phoneNumber;if(!i)return;const h=D("sCode")||C("sCode")||C("domain-tracking-scode"),p=y(n),f=A(p),S=f?.seo?.sCode,b=h&&l[h];let v=!1;if(h&&!b)try{const t=M(h);if("SEO"===t?.type){const o=R(e),n=t.domain?R(t.domain):null;v=Boolean(n)&&n!==o&&h!==S}}catch(e){g.warn("Foreign SEO evaluation failed",{currentSCode:h,error:e?.message})}if(!(!h||h===S||b||v))return;if(h===i){try{const e=C("site_session_data"),t=e?JSON.parse(e):{},o=t.site_campaign_phone;u&&o!==u&&(t.site_campaign_phone=u,w("site_session_data",JSON.stringify(t)))}catch(e){g.warn("Failed phone hydration when sCode already matched",e)}return}g.log("Page SEO Override Applied",{domainKey:n,pathname:t,device:r,previousSCode:h,newSCode:i,baseSeoSCode:S,phoneNumber:u}),P(i);try{const e=C("site_session_data"),a=e?JSON.parse(e):{};if(u&&a.site_campaign_phone!==u&&(a.site_campaign_phone=u),w("site_session_data",JSON.stringify(a)),u)try{window.dispatchEvent(new CustomEvent("cdtPagePhoneUpdated",{detail:{phoneNumber:u,sCode:i,pathname:t,device:r,domainKey:n,version:o}}))}catch(e){g.warn("Failed dispatching cdtPagePhoneUpdated event",e)}}catch(e){g.warn("Failed to update site_session_data.site_campaign_phone",e)}const L=E("sCode",i,window.location.href);L!==window.location.href&&history.replaceState(null,"",L)}catch(e){f(e,"attemptPageSpecificSeoOverride")}},h=e=>{const t=new WeakSet;try{return JSON.stringify(e,((e,o)=>{if("object"==typeof o&&null!==o){if(t.has(o))return;t.add(o)}return o}),2)}catch(e){return"[Unserializable object]"}},p={enabled:!1,setDebug:e=>{p.enabled=e,console.log(`CDT v${o} Debug mode: ${e?"enabled":"disabled"}`),w("cdt_debug",e.toString())}},g={log(t,...n){if(p.enabled){const r=this.getCaller();console.log(`[CDT INFO v${o}] ${r}: ${t}    \n`,h(e(n)))}},warn(t,...n){const r=this.getCaller();console.warn(`[CDT WARNING v${o}] ${r}: ${t}    \n`,h(e(n)))},error(e,...t){const n=this.getCaller();console.error(`[CDT Error v${o}] ${n}: ${e}    \n`,...t)},trace(e,...t){if(p.enabled){const n=this.getCaller();console.trace(`%c[CDT Trace v${o}] ${n}: ${e}`,genHexShade("#9E9E9E",n),...t)}},getCaller(){try{const e=(new Error).stack.split("\n"),t=(e[3]||e[2]).match(/at (\S+)/);return t?t[1]:"Unknown"}catch{return"Unknown"}}},f=(e,t)=>{g.error(`Error in ${t}:`,e),g.error("Stack trace:",e.stack)},S=(()=>{let e=null;return(t=864e5)=>{const o=new URLSearchParams(window.location.search),n=r,s={[`${n}_hrs`]:36e5,[`${n}_mins`]:6e4,[`${n}_secs`]:1e3},i=Object.entries(s).reduce(((e,[t,n])=>{if(null!==e)return e;const r=parseInt(o.get(t));return!isNaN(r)&&r>0?r*n:null}),null);if(null!==i){e=i,localStorage.setItem(a,e.toString());const t=Date.now();localStorage.setItem(r,(t+e).toString())}else{if(null!==e)return e;{const o=localStorage.getItem(a);e=o?parseInt(o):t,localStorage.setItem(a,e.toString())}}return e}})(),w=(e,t,o="both")=>{const a=localStorage.getItem(r),s=Date.now();if(!a||a<s){const e=S(n);localStorage.setItem(r,s+e)}"both"===o?(sessionStorage.setItem(e,t),localStorage.setItem(e,t)):"session"===o?sessionStorage.setItem(e,t):"local"===o&&localStorage.setItem(e,t)},C=(e,t="both")=>{const o="both"===t?sessionStorage.getItem(e)||localStorage.getItem(e):"session"===t?sessionStorage.getItem(e):localStorage.getItem(e),n=localStorage.getItem(r),a=n&&n<Date.now();return o&&!a?o:null},y=e=>{try{let t="production";const o=window.location.host,n=o.includes("outliant"),r=o.includes("stg"),a=n&&!r,i=n&&o.includes("ldt-");return window.location.host.includes("localhost")&&"SQ"===e?t="local":i?t="dev_ldt":a?t="dev":r&&(t="staging"),s[e]?.[t]??null}catch(e){return f(e,"getEnvironmentDomain"),null}},b=i.map((e=>e.siteKey?{...e,domain:y(e.siteKey),domains:Object.values(s[e.siteKey])}:e)),v=b.flatMap((e=>e.domains)),L=(new Set(i.flatMap((e=>[e.seo?.sCode,e.referrer?.sCode,e.direct?.sCode].filter(Boolean)))),(e,t)=>new URL(t).pathname.startsWith(e)),D=(e,t=window.location.href)=>{try{const o=new URL(t),n=new URLSearchParams(o.search),r=new URLSearchParams;for(const[e,t]of n)r.append(e.toLowerCase(),t);return r.get(e.toLowerCase())}catch(e){return f(e,"getURLVariable"),null}},E=(e,t,o=window.location.href)=>{try{const n=new URL(o),r=new URLSearchParams(n.search);return t&&r.set(e,t),n.search=r.toString(),n.href}catch(e){return f(e,"setURLVariable"),o}},U=e=>{try{const t=e.startsWith("localhost"),o=e.startsWith("tel:"),n=e.startsWith("http");return(t?`http://${e}`:o||n?e:`https://${e}`).replace("www.","")}catch(t){return f(t,"getSanitizedURL"),e}},R=e=>{try{const t=U(e);if(!(e=>{try{return new URL(e),!0}catch{return!1}})(t))return g.error("getSanitizedHost Error - Invalid URL provided:",e),t;const o=new URL(t);return t.includes("localhost")?o.host:o.hostname}catch(t){return f(t,"getSanitizedHost"),U(e)}},k=async(e,t,o=!1)=>{try{const n=Boolean(window?.next);let r=((e,t)=>{try{if(!t)return e;const o=new URL(e),n=new URLSearchParams(o.search);return new URLSearchParams(t).forEach(((e,t)=>{n.set(t,e)})),o.search=n.toString(),o.href}catch(t){return f(t,"mergeUrlWithVariables"),e}})(t,C("domain-tracking-url-variables"));const a=y("HAA"),i=y("LSQ"),c=y("MSQ"),d=y("SQ"),l=C("site_session_data"),m=C("firstURL");if(l){const e=JSON.parse(l);r=E("pass_sid",e.site_session_id,r)}m&&(r=E("first_url",m,r));const u=R(window.location.href),h=R(r),S=Object.values(s.SQ),w=Object.values(s.LSQ),b=S.includes(u)&&w.includes(h);if(b){const e=C("pass_lp");e&&(r=E("pass_lp",e,r),g.log("Evaluated isSQtoLSQ condition",{fromDomain:u,toDomain:h,isSQtoLSQ:b,passLp:e}))}const v=C("domain-tracking-canvas");let U=D("sCode",r)||C("domain-tracking-scode")||C("sCode"),k=R(t);const _=new URL(r),M=Object.values(s.SQ),A=M.includes(k),O=L("/auto-and-home-insurance",t),I=L("/life-insurance",t),q=L("/medicare",t);if(r=E("pass_cid",v,r),A&&(O&&(k=a),I&&(k=i),q&&(k=c)),U||(U=x(k,"DIRECT")||"UCMS",g.warn(`sCode missing, using fallback: ${U}`,{sCode:U,urlHostName:k,newUrlString:r}),P(U)),U&&"string"==typeof U){const t=await N(e,k,U);r=E("sCode",t,r),g.log("sCodeByHistory",{sCodeByHistory:t,sCode:U,urlHostName:k})}try{const e=C("site_session_data");if(e){const t=JSON.parse(e).site_campaign_phone;if(t){const e=R(window.location.href),o=R(r),n=Object.values(s.MSQ),a=Object.values(s.MHL),i=/^\/medicare(\/|-|$)/i.test(window.location.pathname);(i||n.includes(e)||n.includes(o)||a.includes(e)||a.includes(o))&&(r=E("pass_phone",encodeURIComponent(t),r))}}}catch(e){g.warn("Failed adding pass_phone",e)}const H=new URL(r);H.pathname=H.pathname.replace(/\/$/,""),r=H.href;const K=window.location.href.replace("www.",""),Q=new URL(K),$=Q.pathname,j=r.includes("#"),T=(new URL(_)?.host??"")===Q?.host,B=$===H.pathname,F=T&&B,W=j||F;if(g.log("Initial Params Check",{args:{currentDomain:e,url:t},sCode:U,urlInfo:{urlParts:H,urlHostName:k,newUrl:_,newUrlString:r,windowUrl:K,currentUrl:Q,currentPath:$},domainChecks:{isHaaPath:O,isLsqPath:I,isMsqPath:q,isParentDomain:A},parentDomains:M,isAnchor:j,isSamePageAnchor:W,pageMatchCheck:{isSameHost:T,isSamePath:B,isSamePage:F,currentPath:$,urlPartsPath:H.pathname},willRunUpdateUrl:r!==window.location.href,env:{currentDomain:e,parentDomain:d,msqDomain:c,lsqDomain:i,haaDomain:a}}),W)return void document.getElementById(H.hash.substring(1))?.scrollIntoView();if(r!==window.location.href){const t=R(r),a=R(window.location.href),s=t!==a;g.log("Internal/External Domain Check",{currentDomain:e,windowDomain:a,newDomain:t,isExternalDomain:s,isNextJs:n,isAddSearchLink:o});const i=()=>{try{const t=new URL(window.location.href);if(((e,t)=>{if(!p.enabled)return;const o=new URLSearchParams(e.search),n=new URLSearchParams(t.search),r=new Set([...o.keys(),...n.keys()]),a={};r.forEach((e=>{const t=o.get(e),r=n.get(e);let s="Unchanged";!t&&r?s="Added":t&&!r?s="Removed":t!==r&&(s="Changed"),a[e]={Status:s,"New Value":r||"(not set)","Old Value":t||"(not set)"}})),console.group("URL Change Detection"),console.log("%cURL Changes:","font-weight: bold; font-size: 14px;"),console.log("%c Old URL: ","background-color:#ffbb00; color: white;",e.href),console.log("%c New URL: ","background-color:#12b300; color: white;",t.href),console.log("%cParameter Changes:","font-weight: bold; font-size: 14px;"),console.table(a),console.groupEnd()})(t,new URL(r,window.location.origin)),!r.includes("sCode"))throw g.warn(`sCode (${U}) not found in URL: ${r}`,{newUrlString:r,sCode:U,urlHostName:k,currentDomain:e}),new Error(`sCode not found in URL: ${r}`);s?(g.log("External Domain Redirect",{newUrlString:r,isNextJs:n}),window.location.href=r):(g.log("Internal Domain Update",{newUrlString:r,isNextJs:n}),n?window?.next?.router?.replace(r):window.history.replaceState(null,"",r),window.dispatchEvent(new Event("cdtUrlChange")))}catch(e){f(e,"redirectWithParams - updateUrl"),console.trace(e)}},c=()=>{let e=0;const t=()=>{if(g.log("Checking GTM and executing updateUrl",{attempts:e,maxAttempts:100,checkInterval:5,dataLayer:window.dataLayer}),e>=100)return g.warn("Max attempts reached waiting for GTM. Executing updateUrl."),void i();window.dataLayer?requestAnimationFrame((()=>{g.log("GTM Loaded. Executing updateUrl."),i()})):(e++,setTimeout(t,5))};t()};if(!n||s||o)g.log("Non-Next.js Route Change Handler",{isNextJs:n,isExternalDomain:s,isAddSearchLink:o}),c();else{g.log("Next.js Route Change Handler",{isNextAndInternal:n&&!s,isAddSearchLink:o});const e=()=>{g.log("routeChangeHandler Start",{}),window.removeEventListener("nextjsRouteChangeComplete",e),c()};window.addEventListener("nextjsRouteChangeComplete",e)}}else g.warn("redirectWithParams - URLs are the same, no update needed",{url:t,currentUrl:window.location.href,currentDomain:e,newUrlString:r,isParentDomain:A,isSamePageAnchor:W,willRunUpdateUrl:r!==window.location.href})}catch(e){f(e,"redirectWithParams"),window.removeEventListener("nextjsRouteChangeComplete",(()=>{}))}},_=new Map,x=(e,t)=>{try{const o=A(e);if(void 0===o)return null;switch(t){case"DIRECT":return o.direct.sCode;case"SEO":return o.seo.sCode;case"REFERRER":return o.referrer.sCode;default:return null}}catch(e){return f(e,"getScodeByOrigin"),null}},M=e=>{try{const t=b.find((t=>t.seo.sCode===e||t.seo.nextSCode===e)),o=b.find((t=>t.referrer.sCode===e||t.referrer.nextSCode===e)),n=b.find((t=>t.direct.sCode===e||t.direct.nextSCode===e));let r=null;if(!t&&l[e]){const t=l[e];r=y(t)}const a={domain:t?.domain||r||o?.domain||n?.domain,sCode:e,type:t||r?"SEO":o?"REFERRER":n?"DIRECT":null};return g.log("sCode values",{...a,mappedResults:{seoMapped:t,pageSpecificSeoDomain:r,referrerMapped:o,directMapped:n}}),a}catch(e){return f(e,"getDataByScode"),null}},N=async(e,t,n)=>{try{e=R(e),t=R(t);const r=M(n),a=A(t),s=y("SQ"),i=y("MSQ"),c=y("LSQ"),d=y("HAA"),l=Boolean(D("cid")),m=l&&t===i&&[c,d,s].includes(e),u=l&&t===c&&[i,d,s].includes(e),h=l&&t===d&&[i,c,s].includes(e),p=l&&t===s&&[i,c,d,s].includes(e),S=await(async e=>{const t=`https://d9fs82ix42pq1.cloudfront.net/dev/sqcmp1/get_campaigns_table_csv?campaignKey=${e}`;try{if(_&&_.has(e))return _.get(e);if(!e||"string"!=typeof e)throw new Error("sCode is required");const o=await fetch(t);if(!o.ok)return null;const n=await o.json(),r=n&&n.length>0?n[0]:null;return _.set(e,r),r}catch(n){return console.error(`[CDT Error v${o}] getCampaign error: sCode Check`,{"s-C-o-d-e":e?"string"==typeof e?e.split("").join(" "):String(e):null,endpoint:t?t.split("?")[0]+"?...":null}),f(n,"getCampaign"),null}})(n),w=(e=>{try{const t=R(e),o=y("HAA"),n=y("LSQ"),r=y("MSQ"),a=y("SQ");switch(t){case r:return"MSQ";case n:return"LSQ";case o:return"HSQ";case a:return"BSQ";default:return null}}catch(e){return f(e,"getSiteId"),null}})(t),C=!!S&&(S.Category?.includes("Paid")&&S["Site ID"]?.includes(w)),b={currentScode:n,sCodeObj:r,siteId:w,hasUrlCid:l,keepCampaignKey:C,campaignData:S,domains:{msqDomain:i,lsqDomain:c,haaDomain:d,parentDomain:s,currentDomain:e,domain:t},toEnv:{toMedicare:m,toLife:u,toHomeAndAuto:h,toParentDomain:p}};if(g.log("check",b),m){const e=C?n:"xspaidahl";return g.log("toMedicare",{finalSCode:e,...b}),e}if(u){const e=C?n:"UIMS";return g.log("toLife",{finalSCode:e,...b}),e}if(h){const e=C?n:"xspaidml";return g.log("toHomeAndAuto",{finalSCode:e,...b}),e}if(p){const e=C?n:"UOMS";return g.log("toParentDomain",{finalSCode:e,...b}),e}if(!r.domain)return g.log("No domain found",b),n;if(e===t)return g.log("Same domain",b),n;switch(r.type){case"SEO":const e=a?.seo?.nextSCode;return g.log("SEO SCode",{finalSCode:e,...b}),e;case"REFERRER":const t=a?.referrer?.nextSCode;return g.log("Referrer SCode",{finalSCode:t,...b}),t;case"DIRECT":const o=a?.direct?.nextSCode;return g.log("Direct SCode",{finalSCode:o},b),o;default:return g.warn("Default Case: No SCode found",{finalSCode:n,...b}),n}}catch(e){return f(e,"getScodeByHistory"),n}},P=e=>{try{if("string"!=typeof e)return void g.error("setScode Error - Invalid sCode:",e);e=e.replace(/['"]/g,"")?.split("?")[0],w("domain-tracking-scode",e),w("sCode",e)}catch(e){f(e,"setScode")}},A=e=>{try{const t=R(e);return b.find((e=>e.domains.includes(t)))}catch(e){return void f(e,"getDataByDomain")}},O=e=>{try{const t=R(e);if(!v.includes(t))return;if(!C("domain-tracking-canvas")){const e=(()=>{try{const e="browser fingerprint",t=document.createElement("canvas"),o=t.getContext("2d");if(!o)return"";o.textBaseline="top",o.font="14px 'Arial'",o.textBaseline="alphabetic",o.fillStyle="#f60",o.fillRect(125,1,62,20),o.fillStyle="#069",o.fillText(e,2,15),o.fillStyle="rgba(102, 204, 0, 0.7)",o.fillText(e,4,17);const n=t.toDataURL().replace("data:image/png;base64,",""),r=[...atob(n)].reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)),0);return Math.abs(r).toString(36).padEnd(20,"0").slice(0,20).toUpperCase()}catch(e){return f(e,"generateDeviceID"),""}})();w("domain-tracking-canvas",e)}(e=>{try{document.body.addEventListener("click",(t=>{let o=t.target;for(;o&&"a"!==o.tagName.toLowerCase()&&o!==document.body;)o=o.parentNode;if(o&&"a"===o.tagName.toLowerCase()){const n=o.getAttribute("href");if(!n)return;const r=o.hasAttribute("data-analytics-click"),a="_blank"===o.getAttribute("target")||t.ctrlKey||t.metaKey,s=new URL(n,window.location.origin),i=R(s.href);!v.includes(i)&&i!==e||a?g.log("handleAllRedirects - Allowing default behavior",{urlHost:i,isNewTab:a,isAddSearchLink:r,SUPPORTED_DOMAINS:v}):(t.preventDefault(),g.log("handleAllRedirects - Prevented default redirect",{currentDomain:e,supportedDomains:v,isSupportedDomain:v.includes(i),urlHost:i,isNewTab:a,isAddSearchLink:r,href:s.href}),k(e,s.href,r))}}))}catch(e){f(e,"handleAllRedirects")}})(t)}catch(e){f(e,"setDOMElements")}},I=()=>{const e=window.history.pushState;window.history.pushState=function(...t){if(!(new Error).stack.includes("addsearch-search-ui.min.js"))return e.apply(this,t)}},q=e=>{try{"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):"attachEvent"in document&&document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&e()}))}catch(e){f(e,"ready")}};"true"!==D("cdt_debug")&&"true"!==C("cdt_debug")||p.setDebug(!0),S(),(()=>{try{console.log(`Cross Domain Tracking Version: ${o}`),I();let e=R(window.location.href);const t=window.location.href,n=R(y("SQ")),r=Object.values(s.SQ).includes(e),a=y("LSQ"),i=y("HAA"),c=y("MSQ"),d=L("/auto-and-home-insurance",t),l=L("/life-insurance",t),m=L("/medicare",t),h=""===document.referrer||document.referrer.includes(e);if(r&&(m&&(e=c),l&&(e=a),d&&(e=i)),u(e),!C("firstURL")){const e=D("first_url")||window.location.href;w("firstURL",e),w("domain-tracking-first-url",e)}try{const e=D("pass_phone");if(e){const t=Object.values(s.MSQ).map(R),o=Object.values(s.MHL).map(R),n=R(window.location.href),r=/^\/medicare(\/|-|$)/i.test(window.location.pathname);if(t.includes(n)||o.includes(n)||r){const t=decodeURIComponent(e),o=C("site_session_data"),n=o?JSON.parse(o):{};n.site_campaign_phone||(n.site_campaign_phone=t,w("site_session_data",JSON.stringify(n),"session"))}}}catch(e){g.warn("pass_phone hydration failed",e)}if(!C("pass_lp")){const e=D("pass_lp");e&&w("pass_lp",e)}!C("domain-tracking-url-variables")&&window.location.search&&w("domain-tracking-url-variables",window.location.search),w("domain-tracking-referrer",document.referrer);const p=C("site_session_data");if(D("pass_sid")&&p){const e=JSON.parse(p);e.site_session_id=D("pass_sid"),w("site_session_data",JSON.stringify(e))}const S=D("sCode")||D("keyword")||C("sCode")||C("domain-tracking-scode");if(g.log("Cross Domain Tracking Info:",{currentUrl:U(window.location.href),currentScode:S,currentDomain:R(window.location.href),modifiedCurrentDomain:e,referral:{referrer:document.referrer,prevReferrer:document.referrer.includes(R(window.location.href))},checks:{isFirstPageVisit:h,isParentDomain:r,isHaaPath:d,isLsqPath:l,isMsqPath:m},domains:{envDomains:{currentDomain:e,haaDomain:i,lsqDomain:a,msqDomain:c,parentDomain:n},MAPPED_DOMAINS:b,SUPPORTED_DOMAINS:v}}),S)return P(S),u(e),void q((()=>O(e)));const E=C("sCode")||C("domain-tracking-scode"),k=(()=>{try{const e=["google","bing","yahoo","duckduckgo","ask","baidu","yandex"],t=C("domain-tracking-referrer")?C("domain-tracking-referrer").toLowerCase():document.referrer.toLowerCase();return e.some((e=>t.includes(e)))}catch(e){return f(e,"isSearchEngineReferer"),!1}})();if(E)g.log("Using existing sCode",{existingScode:E,local:C("sCode","local")||C("domain-tracking-scode","local"),session:C("sCode","session")||C("domain-tracking-scode","session")}),P(E),u(e);else if(h||k){const t=k?"SEO":"DIRECT",o=x(e,t);g.log("sCode",{sCode:o,codeOrigin:t,currentDomain:e}),P(o),u(e)}else P(x(e,"REFERRER"));q((()=>O(e)))}catch(e){f(e,"prepareEnvironment")}})()})();